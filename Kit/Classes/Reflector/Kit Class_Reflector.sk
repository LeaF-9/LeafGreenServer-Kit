# Reflectorのスキル Ver1.0.0

# Skills
function kitSkillReflector(player: player) :: boolean:
	set {_tool} to {_player}'s tool
	set {_item.num} to kitItemNumberChecker({_tool})
	if checkCT({_player}, name of {_tool}) is true:
		if {_item.num} is 1:
			kitSkill_Reflector_1({_player})
		else if {_item.num} is 2:
			kitSkill_Reflector_2({_player})
		else if {_item.num} is 3:
			kitSkill_Reflector_3({_player})
		else if {_item.num} is 4:
			kitSkill_Reflector_4({_player})
		else if {_item.num} is 5:
			kitSkill_Reflector_5({_player})
		else if {_item.num} is 6:
			kitSkill_Reflector_6({_player})
		else if {_item.num} is 7:
			kitSkill_Reflector_7({_player})
		else if {_item.num} is 8:
			kitSkill_Reflector_8({_player})
	return true

on damage of player:
	else if {Stats.%victim%::DamageAbsorption} is not set:
		if {CLS::%victim%} is "REF":
			{Stats.%victim%::DamageAbsorption} is not set
			chance of 20%:
				set {_dm} to damage / 4
				set {LastKiller::%attacker%} to victim
				add victim to {damager.%attacker%::*}
				damage attacker by {_dm}
				play raw sound "random.orb" at attacker with pitch 5 volume 1